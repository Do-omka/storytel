{"version":3,"sources":["welcome.js"],"names":["document","addEventListener","e","popuplvl","querySelector","querySelectorAll","forEach","popup","target","classList","remove","toPopup","contains","add","elem","getAttribute","close","closest","window","pageYOffset","split","toggle","parentElement","radio","input","label","title","placeholder","innerHTML","textContent","files","name","form","preventDefault","ajax","XMLHttpRequest","data","FormData","onloadend","readyState","status","reset","alert","open","send"],"mappings":"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","sourcesContent":["document.addEventListener('DOMContentLoaded', (e)=> {\r\n\tlet popuplvl = 0\r\n\r\nif (document.querySelector('.popup')) {\r\n\tdocument.querySelectorAll('.popup').forEach((popup)=> {\r\n\t\tpopup.addEventListener('click', function(e) {\r\n\t\t\tif (e.target === popup) {\r\n\t\t\t\tpopup.classList.remove('_popup')\r\n\t\t\t\tpopuplvl--\r\n\t\t\t\tif (popuplvl < 1) {\r\n\t\t\t\t\tdocument.querySelector('body').classList.remove('overflow')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}\r\n\r\nfunction toPopup(popup) {\r\n\tif (popup && !popup.classList.contains('_popup')) {\r\n\t\tpopup.classList.add('_popup')\r\n\t\tpopuplvl++\r\n\t\tdocument.querySelector('body').classList.add('overflow')\r\n\t}\r\n}\r\n\r\nif (document.querySelector('[data-popup]')) {\r\n\tdocument.querySelectorAll('[data-popup]').forEach(function(elem) {\r\n\t\telem.addEventListener('click', function(e) {\r\n\t\t\tlet popup\r\n\t\t\tif (elem.getAttribute('data-popup') === 'this') {\r\n\t\t\t\tpopup = elem\r\n\t\t\t} else if (document.querySelector(elem.getAttribute('data-popup'))) {\r\n\t\t\t\tpopup = document.querySelector(elem.getAttribute('data-popup'))\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttoPopup(popup)\r\n\t\t})\r\n\t})\r\n}\r\n\r\nif (document.querySelector('[data-popup-close]')) {\r\n\tdocument.querySelectorAll('[data-popup-close]').forEach(function(close) {\r\n\t\tclose.addEventListener('click', function(e) {\r\n\t\t\tif (e.target.closest('._popup')) {\r\n\t\t\t\tlet popup = e.target.closest('._popup')\r\n\t\t\t\tpopup.classList.remove('_popup')\r\n\t\t\t\tpopuplvl--\r\n\t\t\t\tif (popuplvl < 1) {\r\n\t\t\t\t\tdocument.querySelector('body').classList.remove('overflow')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}\r\n\r\ndocument.addEventListener('scroll', function(e) {\r\n\tif (document.querySelector('.header')) {\r\n\t\tif (window.pageYOffset > 0) {\r\n\t\t\tdocument.querySelector('.header').classList.add('_stuck')\r\n\t\t} else {\r\n\t\t\tdocument.querySelector('.header').classList.remove('_stuck')\r\n\t\t}\r\n\t}\r\n})\r\n\r\nif (document.querySelector('[data-active]')) {\r\n\tdocument.querySelectorAll('[data-active]').forEach((elem)=> {\r\n\t\telem.addEventListener('click', (e)=> {\r\n\t\t\telem.getAttribute('data-active').split(', ').forEach((target)=> {\r\n\t\t\t\tswitch (target) {\r\n\t\t\t\t\tcase 'this':\r\n\t\t\t\t\t\telem.classList.toggle('_active')\r\n\t\t\t\t\tbreak\r\n\t\t\t\t\t\r\n\t\t\t\t\tcase 'parent':\r\n\t\t\t\t\t\telem.parentElement.classList.toggle('_active')\r\n\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tif (document.querySelector(target)) {\r\n\t\t\t\t\t\t\tdocument.querySelector(target).classList.toggle('_active')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t})\r\n}\r\n\r\nif (document.querySelector('[data-radio-uncheck]')) {\r\n\tdocument.querySelectorAll('[data-radio-uncheck]').forEach((elem)=> {\r\n\t\telem.addEventListener('click', (e)=> {\r\n\t\t\telem.getAttribute('data-radio-uncheck').split(', ').forEach((target)=> {\r\n\t\t\t\tif (document.querySelector('[data-radio-name=\"'+target+'\"]')) {\r\n\t\t\t\t\tdocument.querySelectorAll('[data-radio-name=\"'+target+'\"]').forEach((radio)=> {\r\n\t\t\t\t\t\tradio.classList.remove('_active')\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\telem.getAttribute('data-radio-for').split(', ').forEach((target)=> {\r\n\t\t\t\tif (document.querySelector('[data-radio-id=\"'+target+'\"]')) {\r\n\t\t\t\t\tdocument.querySelectorAll('[data-radio-id=\"'+target+'\"]').forEach((radio)=> {\r\n\t\t\t\t\t\tradio.classList.add('_active')\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t})\r\n}\r\n\r\nif (document.querySelector('input')) {\r\n\tdocument.querySelectorAll('input').forEach(function(elem) {\r\n\t\telem.addEventListener('invalid', function(e) {\r\n\t\t\telem.classList.add('_required')\r\n\t\t\telem.addEventListener('blur', function(e) {\r\n\t\t\t\telem.classList.remove('_required')\r\n\t\t\t})\r\n\t\t})\r\n\t})\r\n}\r\n\r\nif (document.querySelector('input.file-input')) {\r\n\tdocument.querySelectorAll('input.file-input').forEach(function(input) {\r\n\t\tlet\r\n\t\tlabel = input.closest('label'),\r\n\t\ttitle = label.querySelector('.file-title'),\r\n\t\tplaceholder = title.innerHTML\r\n\t\t\r\n\t\tinput.closest('form').addEventListener('reset', function(e) {\r\n\t\t\ttitle.innerHTML = placeholder\r\n\t\t})\r\n\t\t\r\n\t\tinput.addEventListener('change', function(e) {\r\n\t\t\ttitle.textContent = input.files[0].name\r\n\t\t})\r\n\t})\r\n}\r\n\r\nif (document.querySelector('form.form')) {\r\n\tdocument.querySelectorAll('form.form').forEach(function(form) {\r\n\t\tform.addEventListener('submit', function(e) {\r\n\t\t\te.preventDefault()\r\n\t\t\t\r\n\t\t\tlet ajax = new XMLHttpRequest(),\r\n\t\t\tdata = new FormData(form)\r\n\t\t\t\r\n\t\t\tajax.onloadend = ()=> {\r\n\t\t\t\tif (ajax.readyState === 4 && ajax.status === 200) {\r\n\t\t\t\t\tform.reset()\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert('Упс... что-то пошло не так.')\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\tajax.open(form.getAttribute('method'), form.getAttribute('action'))\r\n\t\t\tajax.send(data)\r\n\t\t\t\r\n\t\t})\r\n\t})\r\n}\r\n\r\n})\r\n"],"file":"welcome.js"}